# 校园跑腿管理员系统

> 一个功能完整的后台管理系统，用于管理校园跑腿平台的用户、订单和认证审核。

## 🎯 系统简介

管理员系统是校园跑腿平台的后台管理工具，提供了完整的数据管理和审核功能。管理员可以通过账号密码登录，对平台的用户、订单、认证申请等数据进行增删改查操作，所有操作都会真实修改数据库数据。

## ✨ 核心特性

- 🔐 **安全认证** - JWT Token 认证，bcrypt 密码加密
- 👥 **用户管理** - 查看、搜索、编辑、删除用户
- 📦 **订单管理** - 查看、搜索、编辑、删除订单
- ✅ **认证审核** - 审核用户身份认证申请，查看证件照片
- 📊 **数据统计** - 实时查看用户、订单、认证等统计数据
- 🔑 **权限控制** - 多级权限管理（超级管理员、管理员、审核员）
- 📱 **响应式设计** - 适配不同屏幕尺寸
- 🚀 **易于部署** - 一键初始化脚本，快速启动

## 🚀 快速开始

### 1. 初始化系统

```bash
cd errand-back
node create-admin-table.js
```

### 2. 启动后端

```bash
cd errand-back
npm start
```

### 3. 访问管理后台

打开浏览器访问：`errand-admin/index.html`

### 4. 登录

- **用户名：** admin
- **密码：** admin123

⚠️ **首次登录后请立即修改默认密码！**

## 📚 文档导航

### 快速入门
- 📖 [启动管理员系统](./启动管理员系统.md) - 详细的启动步骤和故障排查
- 🚀 [快速参考](./管理员系统快速参考.md) - 常用功能和 API 速查

### 使用指南
- 📘 [使用说明](./管理员系统使用说明.md) - 完整的功能说明和使用教程
- ✅ [部署检查清单](./管理员系统部署检查清单.md) - 部署前后的检查项目

### 开发文档
- 📝 [实现总结](./管理员系统实现总结.md) - 技术架构和实现细节
- 📋 [文件清单](./管理员系统文件清单.md) - 所有文件的详细说明

## 🎨 功能预览

### 登录页面
- 简洁的登录界面
- 渐变背景设计
- 错误提示

### 数据统计
- 用户统计（总数、认证数、新增数）
- 订单统计（总数、待处理、已完成）
- 认证统计（待审核、已通过、已拒绝）

### 用户管理
- 用户列表展示
- 多条件搜索
- 认证状态筛选
- 用户详情查看
- 用户信息编辑
- 用户删除（超级管理员）

### 订单管理
- 订单列表展示
- 关键词搜索
- 状态筛选
- 订单详情查看
- 订单信息编辑
- 订单删除（超级管理员）

### 认证审核
- 认证申请列表
- 状态筛选
- 详情查看（包括证件照片）
- 审核通过/拒绝
- 拒绝原因填写

## 🔧 技术栈

### 后端
- **运行环境：** Node.js
- **Web 框架：** Express.js
- **数据库：** MySQL
- **认证：** JWT (jsonwebtoken)
- **密码加密：** bcryptjs

### 前端
- **基础：** HTML5 + CSS3 + JavaScript
- **HTTP 客户端：** Fetch API
- **存储：** LocalStorage

## 📁 项目结构

```
项目根目录/
├── errand-back/              # 后端
│   ├── src/
│   │   ├── models/           # 数据模型
│   │   │   └── Admin.js
│   │   ├── controllers/      # 控制器
│   │   │   └── admin.controller.js
│   │   ├── middleware/       # 中间件
│   │   │   └── adminAuth.js
│   │   └── routes/           # 路由
│   │       └── admin.routes.js
│   ├── create-admin-table.js # 初始化脚本
│   ├── setup-admin.bat       # 快速启动脚本
│   └── test-admin-system.js  # 测试脚本
│
├── errand-admin/             # 前端
│   ├── index.html            # 管理后台页面
│   ├── admin.js              # 管理后台脚本
│   └── README.md
│
└── 文档/                     # 文档
    ├── 管理员系统使用说明.md
    ├── 管理员系统快速参考.md
    ├── 管理员系统部署检查清单.md
    ├── 管理员系统实现总结.md
    ├── 启动管理员系统.md
    └── 管理员系统文件清单.md
```

## 🔐 权限说明

### 角色类型

| 角色 | 说明 | 权限 |
|------|------|------|
| **super_admin** | 超级管理员 | 所有权限，包括删除和管理其他管理员 |
| **admin** | 管理员 | 查看、编辑、审核，不能删除 |
| **moderator** | 审核员 | 仅查看和审核认证 |

### 默认账号

- **用户名：** admin
- **密码：** admin123
- **角色：** super_admin

## 📊 API 端点

### 认证
- `POST /api/admin/login` - 管理员登录
- `GET /api/admin/me` - 获取当前管理员信息

### 统计
- `GET /api/admin/statistics` - 获取系统统计数据

### 用户管理
- `GET /api/admin/users` - 获取用户列表
- `GET /api/admin/users/:id` - 获取用户详情
- `PUT /api/admin/users/:id` - 更新用户信息
- `DELETE /api/admin/users/:id` - 删除用户

### 订单管理
- `GET /api/admin/orders` - 获取订单列表
- `GET /api/admin/orders/:id` - 获取订单详情
- `PUT /api/admin/orders/:id` - 更新订单
- `DELETE /api/admin/orders/:id` - 删除订单

### 认证管理
- `GET /api/admin/certifications` - 获取认证列表
- `POST /api/admin/certifications/:id/review` - 审核认证

## 🧪 测试

运行测试脚本验证系统功能：

```bash
cd errand-back
node test-admin-system.js
```

测试内容包括：
- ✅ 管理员登录
- ✅ 获取统计数据
- ✅ 获取用户列表
- ✅ 获取订单列表
- ✅ 获取认证列表
- ✅ Token 验证

## 🔒 安全建议

1. **修改默认密码** - 首次登录后立即修改
2. **使用强密码** - 至少 8 位，包含大小写字母、数字、特殊字符
3. **限制访问** - 仅在内网或通过 VPN 访问
4. **使用 HTTPS** - 生产环境必须使用 HTTPS
5. **定期备份** - 定期备份数据库
6. **监控日志** - 定期检查系统日志
7. **更新依赖** - 定期更新依赖包

## 🐛 常见问题

### 登录失败
- 检查后端服务是否运行
- 检查数据库连接
- 确认用户名密码正确

### Token 过期
- 重新登录（Token 有效期 24 小时）

### 图片无法显示
- 检查 uploads 目录权限
- 确认静态文件服务正常

详细问题解决请查看 [启动管理员系统](./启动管理员系统.md) 文档。

## 📈 未来计划

- [ ] 操作日志记录
- [ ] 数据导出功能
- [ ] 批量操作功能
- [ ] 数据可视化图表
- [ ] 消息通知功能
- [ ] 双因素认证
- [ ] 暗黑模式

## 📝 更新日志

### v1.0.0 (2026-01-04)
- ✅ 管理员登录功能
- ✅ 数据统计面板
- ✅ 用户管理（增删改查）
- ✅ 订单管理（增删改查）
- ✅ 认证审核功能
- ✅ 权限控制系统
- ✅ 完整文档

## 🤝 贡献

欢迎提交问题和改进建议！

## 📄 许可证

本项目仅供学习和研究使用。

## 📞 联系方式

如有问题或建议，请查看相关文档或联系技术支持。

---

**版本：** v1.0.0  
**发布日期：** 2026-01-04  
**状态：** ✅ 已完成，可投入使用

---

## 🎉 开始使用

现在就开始使用管理员系统吧！

1. 📖 阅读 [启动管理员系统](./启动管理员系统.md)
2. 🚀 运行初始化脚本
3. 🔐 登录管理后台
4. 📊 开始管理平台数据

**祝使用愉快！** 🎊
