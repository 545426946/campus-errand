# 快速测试指南

## 🚀 一键运行所有测试

```bash
cd errand-back
node test-suite/run-all-tests.js
```

## 📋 运行单个模块测试

```bash
# 认证模块测试
node test-suite/test-auth.js

# 订单模块测试
node test-suite/test-order.js

# 用户模块测试
node test-suite/test-user.js
```

## ✅ 最新测试结果

**测试时间**: 2025-01-09 10:39:36

| 模块 | 通过/总数 | 通过率 |
|------|----------|--------|
| 认证模块 | 7/7 | 100% |
| 订单模块 | 13/13 | 100% |
| **总计** | **20/20** | **100%** |

## 📊 测试覆盖的功能

### ✅ 认证功能
- [x] 用户注册
- [x] 用户名密码登录
- [x] 邮箱密码登录
- [x] 微信登录（测试模式）
- [x] Token验证
- [x] 错误处理（错误密码、无效Token）

### ✅ 订单功能
- [x] 创建订单（余额充足/不足）
- [x] 获取订单列表
- [x] 获取订单详情
- [x] 接单
- [x] 权限控制（不能接自己的单）
- [x] 订单完成流程（两步确认）
- [x] 订单取消和退款
- [x] 订单搜索
- [x] 我的订单查询

### ✅ 钱包功能
- [x] 余额冻结
- [x] 余额解冻
- [x] 款项转账
- [x] 余额不足检查

## 🔧 前置条件

1. **后端服务已启动**
   ```bash
   cd errand-back
   npm start
   ```

2. **MySQL数据库已运行**
   - 确保数据库连接正常
   - 数据表已创建

3. **环境变量已配置**
   - `.env` 文件已正确配置

## 📝 查看详细报告

- **测试报告**: `errand-back/test-suite/TEST-REPORT.md`
- **测试用例文档**: `docs/完整测试用例文档.md`
- **测试脚本**: `errand-back/test-suite/`

## 🐛 常见问题

### 问题1: 连接被拒绝
**解决**: 确保后端服务已启动在 http://localhost:3000

### 问题2: 数据库错误
**解决**: 检查MySQL服务是否运行，检查 `.env` 配置

### 问题3: 测试失败
**解决**: 查看错误信息，检查数据库数据是否正常

## 🎉 测试通过！

所有20个测试用例全部通过，系统功能正常，可以投入使用！
