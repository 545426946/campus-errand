<view class="page-container">
  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-card">
    <view class="stats-item">
      <text class="stats-number">{{stats.total}}</text>
      <text class="stats-label">å…¨éƒ¨æ”¶è—</text>
    </view>
    <view class="stats-divider"></view>
    <view class="stats-item">
      <text class="stats-number">{{stats.pending}}</text>
      <text class="stats-label">å¾…æ¥å•</text>
    </view>
    <view class="stats-divider"></view>
    <view class="stats-item">
      <text class="stats-number">{{stats.completed}}</text>
      <text class="stats-label">å·²å®Œæˆ</text>
    </view>
  </view>

  <!-- ç­›é€‰æ ‡ç­¾ -->
  <view class="filter-tabs">
    <view class="filter-tab {{filterType === 'all' ? 'active' : ''}}" 
          bindtap="switchFilter" data-type="all">
      <text>å…¨éƒ¨</text>
    </view>
    <view class="filter-tab {{filterType === 'pending' ? 'active' : ''}}" 
          bindtap="switchFilter" data-type="pending">
      <text>å¾…æ¥å•</text>
    </view>
    <view class="filter-tab {{filterType === 'completed' ? 'active' : ''}}" 
          bindtap="switchFilter" data-type="completed">
      <text>å·²å®Œæˆ</text>
    </view>
  </view>

  <!-- æ”¶è—åˆ—è¡¨ -->
  <view class="favorite-list" wx:if="{{favoriteList.length > 0}}">
    <view class="favorite-item" 
          wx:for="{{favoriteList}}" 
          wx:key="id"
          bindtap="onFavoriteTap"
          data-order="{{item}}">
      
      <view class="item-header">
        <text class="item-title">{{item.title}}</text>
        <view class="item-status {{getStatusClass(item.status)}}">
          {{getStatusText(item.status)}}
        </view>
      </view>
      
      <view class="item-content">
        <text class="item-desc">{{item.description}}</text>
        <view class="item-meta">
          <text class="meta-item">ğŸ“ {{item.pickupLocation}}</text>
          <text class="meta-item">ğŸ¯ {{item.deliveryLocation}}</text>
          <text class="meta-item">â° {{item.createTime}}</text>
        </view>
      </view>
      
      <view class="item-footer">
        <view class="price-info">
          <text class="price">Â¥{{item.price}}</text>
          <text class="price-label">è·‘è…¿è´¹</text>
        </view>
        
        <view class="action-buttons">
          <button class="action-btn contact" 
                  bindtap="onContactPublisher"
                  data-order="{{item}}"
                  catchtap="true">
            è”ç³»
          </button>
          <button class="action-btn accept" 
                  wx:if="{{item.status === 'pending'}}"
                  bindtap="onAcceptOrder"
                  data-order="{{item}}"
                  catchtap="true">
            ç«‹å³æ¥å•
          </button>
        </view>
      </view>
      
      <!-- å–æ¶ˆæ”¶è—æŒ‰é’® -->
      <view class="remove-favorite" 
            bindtap="onRemoveFavorite"
            data-order="{{item}}"
            catchtap="true">
        <text class="remove-icon">â¤ï¸</text>
        <text class="remove-text">å–æ¶ˆæ”¶è—</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:elif="{{!loading}}">
    <text class="empty-icon">ğŸ¤</text>
    <text class="empty-text">æš‚æ— æ”¶è—</text>
    <text class="empty-desc">å»è®¢å•é¡µé¢æ”¶è—æ„Ÿå…´è¶£çš„ä»»åŠ¡å§</text>
    <button class="go-browse-btn" bindtap="goToOrders">å»é€›é€›</button>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- æ²¡æœ‰æ›´å¤š -->
  <view class="no-more" wx:if="{{!hasMore && favoriteList.length > 0}}">
    <text class="no-more-text">æ²¡æœ‰æ›´å¤šäº†</text>
  </view>
</view>