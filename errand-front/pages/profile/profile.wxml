<view class="page-container">
  <!-- 页面标题栏 -->
  <view class="page-header">
    <text class="page-title">个人信息</text>
  </view>

  <!-- 头像区域 -->
  <view class="avatar-section">
    <view class="avatar-container" bindtap="onChangeAvatar">
      <image class="avatar" src="{{userInfo.avatar || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDIwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjVGNUY1Ii8+CjxjaXJjbGUgY3g9IjEwMCIgY3k9IjgwIiByPSI0MCIgZmlsbD0iI0Q5RDlEOSIvPgo8ZWxsaXBzZSBjeD0iMTAwIiBjeT0iMTYwIiByeD0iNjAiIHJ5PSI0MCIgZmlsbD0iI0Q5RDlEOSIvPgo8L3N2Zz4='}}" mode="aspectFill"></image>
      <view class="avatar-edit">
        <text class="edit-icon">📷</text>
        <text class="edit-text">点击更换</text>
      </view>
    </view>
  </view>

  <!-- 基本信息表单 -->
  <view class="form-section">
    <view class="form-group">
      <text class="form-label">用户名</text>
      <input class="form-input" type="text" placeholder="请输入用户名" value="{{userInfo.username}}" disabled="true"/>
    </view>

    <view class="form-group">
      <text class="form-label">昵称</text>
      <input class="form-input" type="text" placeholder="请输入昵称" value="{{userInfo.nickname}}" bindinput="onNicknameInput"/>
    </view>

    <view class="form-group">
      <text class="form-label">手机号</text>
      <input class="form-input" type="number" placeholder="请输入手机号" value="{{userInfo.phone}}" bindinput="onPhoneInput"/>
    </view>

    <view class="form-group">
      <text class="form-label">邮箱</text>
      <input class="form-input" type="text" placeholder="请输入邮箱" value="{{userInfo.email}}" bindinput="onEmailInput"/>
    </view>

    <view class="form-group">
      <text class="form-label">性别</text>
      <view class="radio-group">
        <label class="radio-item {{userInfo.gender === 'male' ? 'selected' : ''}}" bindtap="onGenderSelect" data-gender="male">
          <radio class="radio" value="male" checked="{{userInfo.gender === 'male'}}"/>
          <text class="radio-label">男</text>
        </label>
        <label class="radio-item {{userInfo.gender === 'female' ? 'selected' : ''}}" bindtap="onGenderSelect" data-gender="female">
          <radio class="radio" value="female" checked="{{userInfo.gender === 'female'}}"/>
          <text class="radio-label">女</text>
        </label>
        <label class="radio-item {{userInfo.gender === 'other' || !userInfo.gender ? 'selected' : ''}}" bindtap="onGenderSelect" data-gender="other">
          <radio class="radio" value="other" checked="{{userInfo.gender === 'other' || !userInfo.gender}}"/>
          <text class="radio-label">保密</text>
        </label>
      </view>
    </view>

    <view class="form-group">
      <text class="form-label">学校</text>
      <input class="form-input" type="text" placeholder="请输入学校名称" value="{{userInfo.school}}" bindinput="onSchoolInput"/>
    </view>

    <view class="form-group">
      <text class="form-label">个人简介</text>
      <textarea class="form-textarea" placeholder="介绍一下自己吧..." value="{{userInfo.bio}}" bindinput="onBioInput" maxlength="200"/>
      <text class="char-count">{{userInfo.bio.length || 0}}/200</text>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-section">
    <button class="save-btn" bindtap="onSave" loading="{{saving}}" disabled="{{saving}}">
      {{saving ? '保存中...' : '保存修改'}}
    </button>
  </view>
</view>