<view class="page-container">
  <!-- ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-card">
    <view class="stat-item">
      <text class="stat-value">{{stats.totalCount}}</text>
      <text class="stat-label">æ€»ç”³è¯·</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-value">{{stats.pendingCount}}</text>
      <text class="stat-label">å¾…å®¡æ ¸</text>
    </view>
    <view class="stat-divider"></view>
    <view class="stat-item">
      <text class="stat-value">Â¥{{stats.totalAmount}}</text>
      <text class="stat-label">å·²æç°</text>
    </view>
  </view>

  <!-- çŠ¶æ€ç­›é€‰ -->
  <view class="filter-tabs">
    <view 
      class="filter-tab {{statusFilter === 'all' ? 'active' : ''}}"
      data-status="all"
      bindtap="onStatusChange">
      å…¨éƒ¨
    </view>
    <view 
      class="filter-tab {{statusFilter === 'pending' ? 'active' : ''}}"
      data-status="pending"
      bindtap="onStatusChange">
      å¾…å®¡æ ¸
    </view>
    <view 
      class="filter-tab {{statusFilter === 'completed' ? 'active' : ''}}"
      data-status="completed"
      bindtap="onStatusChange">
      å·²å®Œæˆ
    </view>
    <view 
      class="filter-tab {{statusFilter === 'rejected' ? 'active' : ''}}"
      data-status="rejected"
      bindtap="onStatusChange">
      å·²æ‹’ç»
    </view>
  </view>

  <!-- æç°åˆ—è¡¨ -->
  <view class="withdraw-list" wx:if="{{withdrawList.length > 0}}">
    <view 
      class="withdraw-item" 
      wx:for="{{withdrawList}}" 
      wx:key="id"
      bindtap="onViewDetail"
      data-id="{{item.id}}">
      
      <view class="withdraw-header">
        <view class="withdraw-info">
          <text class="withdraw-amount">Â¥{{item.amount}}</text>
          <text class="withdraw-account">æç°åˆ°{{item.account}}</text>
        </view>
        <view class="withdraw-status {{item.statusClass}}">
          {{item.statusText}}
        </view>
      </view>

      <view class="withdraw-footer">
        <text class="withdraw-time">{{item.created_at}}</text>
        <view class="withdraw-actions" wx:if="{{item.status === 'pending'}}">
          <text 
            class="action-btn cancel"
            catchtap="onCancelWithdraw"
            data-id="{{item.id}}">
            å–æ¶ˆ
          </text>
        </view>
      </view>

      <view class="withdraw-note" wx:if="{{item.admin_note}}">
        <text class="note-label">å¤‡æ³¨ï¼š</text>
        <text class="note-text">{{item.admin_note}}</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:elif="{{!loading}}">
    <text class="empty-icon">ğŸ’°</text>
    <text class="empty-text">æš‚æ— æç°è®°å½•</text>
  </view>

  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-state" wx:if="{{loading}}">
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <!-- æ²¡æœ‰æ›´å¤š -->
  <view class="no-more" wx:if="{{!hasMore && withdrawList.length > 0}}">
    <text class="no-more-text">æ²¡æœ‰æ›´å¤šè®°å½•äº†</text>
  </view>
</view>
