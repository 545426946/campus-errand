# 未登录用户体验优化说明

## 优化目标
允许未登录用户浏览小程序内容，只在需要登录的操作时友好提示，不强制跳转到登录页面。

## 优化内容

### 1. 首页浏览 ✅
**优化前**:
- 进入首页立即弹窗要求登录
- 强制跳转到登录页面

**优化后**:
- 未登录用户可以自由浏览首页
- 可以查看所有订单列表
- 可以搜索订单
- 可以筛选服务类型
- 可以查看订单详情

**限制功能**:
- 接单 - 提示"需要登录"
- 发布订单 - 提示"需要登录"

### 2. 订单详情页 ✅
**优化前**:
- 未登录无法查看订单详情

**优化后**:
- 未登录用户可以查看订单详情
- 可以看到订单信息、价格、位置等

**限制功能**:
- 接单按钮 - 提示"需要登录"
- 联系发布者 - 提示"需要登录"

### 3. 用户中心 ✅
**优化前**:
- 点击任何菜单项立即跳转登录

**优化后**:
- 显示未登录状态
- 点击头像可以前往登录
- 点击需要登录的功能时，弹窗询问是否登录

**需要登录的功能**:
- 我的订单
- 我发布的
- 我的钱包
- 收藏夹
- 历史记录
- 实名认证
- 通知

**无需登录的功能**:
- 帮助中心
- 意见反馈
- 关于我们

### 4. 登录页面 ✅
**优化**:
- 如果已登录且非强制登录，自动跳转首页
- 支持 `force` 参数强制显示登录页

## 交互流程

### 场景1: 未登录用户浏览
```
1. 打开小程序 → 直接进入首页
2. 浏览订单列表 → 正常显示
3. 点击订单 → 查看详情
4. 搜索订单 → 正常搜索
5. 筛选服务类型 → 正常筛选
```

### 场景2: 未登录用户尝试操作
```
1. 点击"接单"按钮
   ↓
2. 弹窗提示"需要登录"
   ↓
3. 用户选择：
   - 点击"去登录" → 跳转登录页
   - 点击"取消" → 继续浏览