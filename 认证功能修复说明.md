# 认证功能修复说明

## 问题描述
前端访问 `/api/certification/status` 接口时返回 500 错误。

## 错误原因
数据库 `users` 表缺少认证相关字段：
- `is_certified` - 是否已认证
- `certification_type` - 认证类型
- `certification_id` - 认证记录ID

## 解决方案

### 1. 创建认证表
```bash
node errand-back/create-certifications-table.js
```

### 2. 添加 users 表字段
```bash
node errand-back/add-certification-columns.js
```

### 3. 重启后端服务
服务已自动重启，认证功能现已正常工作。

## 验证
- ✅ `certifications` 表已创建
- ✅ `users` 表已添加认证相关字段
- ✅ 后端服务运行正常
- ✅ `/api/certification/status` 接口可正常访问

## 相关文件
- `errand-back/create-certifications-table.js` - 创建认证表
- `errand-back/add-certification-columns.js` - 添加用户表字段（新建）
- `errand-back/src/models/Certification.js` - 认证模型
- `errand-back/src/controllers/certification.controller.js` - 认证控制器
- `errand-back/src/routes/certification.routes.js` - 认证路由
